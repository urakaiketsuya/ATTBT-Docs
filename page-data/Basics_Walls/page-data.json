{"componentChunkName":"component---src-templates-blog-post-js","path":"/Basics_Walls/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog"}},"markdownRemark":{"id":"03a110ba-1e13-5130-a1a3-0e515e4aae72","excerpt":"welcome back so now we're gonna look at\nhow we can get the grid to generate\nedges and do the hard work for us so\nlet's so these are all the tiles from\ntheâ€¦","html":"<p>welcome back so now we're gonna look at\nhow we can get the grid to generate\nedges and do the hard work for us so\nlet's so these are all the tiles from\nthe previous video and just get those\ndeleted and then let's add just a\nregular cube so first let's add a cube\nand to the grid like this and I'll\nresize it a bit now this cube if we\npress play doesn't do anything you can\nsee you can pass right through it\nbecause the grid has no way of knowing\nthat it exists so we need to tell the\ngrid to look for things like this cube\nthat is simple enough to do if we select\nthe grid manager and we scroll down to\nthe config options here we will find\nthis boolean here which you can check\nfor trays for walls so if we check this\nwe will see that we can now no longer\nmove through this cube even though it's\njust a regular mesh with no special code\nattached to it we can see that you can\nalso create you know thin walls or\nwhatever shapes you want using this\nmethod it's great a thin wall like this\nand it will have the same sort of thing\nthat you can now move around it and it\nblocks walkability so how does this work\nwell it works by the grid manager at\nstartup using a line trace tracing in\nevery direction to the surrounding tiles\nand if that line trace is blocked then\nthat edge will be removed we can see\nthis if we go into the grid manager we\nedit the blueprint here now here is the\nactivate grid manager event which is\ncalled from the game state at the\nbeginning of the game and lots of stuff\nhappens here which is covered in other\nvideos\nlet's set up no I mean set up grid\narrays it's what we are interested in\nand here we have the generate grid edges\nevent and here you have the one that\nadds the edges of the tiles and tile\nactor placed in the viewport to the grid\nby the way but this is the one that we\nare interested in now set edges based on\nterrain we have three different calls\nhere based on and if we have a\nmulti-level or one level grid or if we\ndon't have any height differences though\nmore about these two at a later point\nbut first height map is set to false on\nour grid and so we add tile edges no\nheight map and here is the trace so we\ncan draw a debug persistent line trace\nfor this so that I can visualize for you\nguys how this works\nso if we now hit play you will see that\nline traces go in every direction from\neach of these tiles and these places\nhere you can see that these traces are\nblocked so you can see that the trace\nfrom this tile the center of this tile\nthat the center of this tile is blocked\nby this mesh and thus this edge between\nthese two and the edge going the other\nway are both removed we can see that if\nwe resize this mesh slightly we can now\nmove past it because these corner edges\nare no longer blocked by this line trace\nalso note that we use a custom collision\nchannel for this so if we go to one of\nour measures and we find its collision\nsettings and and we can change this to\ncustom and then it will find the wall\ntrace channel here and if we ignore this\nchannel for this mesh then we will see\nwhen starting the game that we can again\nmove through and ignore this mesh\nentirely and so this means that anything\nthat you place in the area of the grid\nthat blocks the\nall tres collision channel if you have\ntres four walls enabled here tres four\nwalls enabled and the World Trade Center\nyou can also set up here if you want to\nuse a different channel but if this is\nenabled whatever stuff you've placed on\nthe grid which blocks this channel here\nwill then remove edges between the tiles\nand where it is placed\nyou may notice that there are a couple\nof different trace channels defined\nwithin the grid manager we have the path\ntraced channel and the arranged trace\nChannel and now the path trace that is\nused to define what parts of the grid\ncan be walked on so anything needs to\nblock path traced if units are should be\nable to walk on top of it well Range\ntrace that is used during gameplay to\ndetermine a visibility for these units\nso if they can target other units with\nattacks or if they are blocked by meshes\netc I can show this briefly with the\nunit here if we go back to this mesh we\nedit it and in the collision settings we\ncan see that it blocks range trace and\npath trace which means that this mesh\nwill be considered when generating\nwalkability on the grid which tiles can\nbe walked on since height maps are not\nenabled right now and all the tiles will\nbe at the heart location zero but more\non that later but for range trace this\nmeans that this mesh should block\nvisibility now if we go here yeah first\nlet's go to the grid manager and turn\noff this debug.trace so that doesn't\nbother us now if we select this unit and\nwe increase its range to something\nhigher like 12 and hit play we can see\nthat it doesn't work right outside oh\nyeah it's too low so the height at which\nyou can see tiles is defined within the\nabilities that you are using\nbut yeah so we need to make this taller\nand if we now hit play we should be able\nto see that yeah we are blocking\nline-of-sight and that is based on where\nwe are standing so lastly let's talk\nbriefly about the path traced channel so\nthat's the collision channel that\ndefines what parts or what inside this\ngrid can be moved on top of so by\ndefault the grid manager it blocks path\ntrace for the entire grid and it doesn't\ndo this with each of these individual\ntiles having collision enabled but\ninstead it has one large plane that\ncovers the entire grid manager no matter\nhow large the grid manager is and so we\ncan show this collision plane here but\nwe can also then set this disable\ncollision plane walkable now this will\nwork a bit strangely now that height\nMaps is set to false but I will show\nthis so we can see now that there let me\nturn off the collision plane\nvisualization here so that's a bit more\nclear to see so we can see that we can\nstill move to all of these places but\nwe're not able to click here and that's\nbecause of these abilities they try to\nsee if the collision trace channel or\nthe path trace channel is blocked\nbeneath the mouse so you can see that if\nwe hover over these meshes that then the\nability is able to find the tiles here\nbut since this collision plane no longer\nblocks path trace our mouse is no longer\nable to find the grid but still all of\nthese tiles are considered being part of\nthe grid and thus path finding can be\ndone of them on them this is when height\nmap is been set to false which means\nthat it's the grid manager considered\nthe entire considers the entire grid to\nbe walkable by default and it doesn't\nbother doing traces to type try to check\nif there are any tiles missing or\nsomething like that so if you want\nthe grid manager to check if there are\ntiles missing we can set height mapped\nto one level and now if we click play we\nsee that we can't move anywhere but we\ncan then add another cube here which by\ndefault blocks path trace we can resize\nit and we can move this unit here so\nit's on top of it and now we can see\nthat we're able to move on top of this\nmesh because it blocks path trace but\nyeah and this is bit of what is in the\nprocedural height map features of this\ntoolkit and that's what I will be\ntalking about in the next video</p>\n<ul>\n<li>Generated with <a href=\"https://kome.ai\">https://kome.ai</a></li>\n</ul>","frontmatter":{"title":"ATTBT Basics #3 Walls","date":"September 28, 2024","description":"https://www.youtube.com/watch?v=bzaDpRtHtxY"}},"previous":{"fields":{"slug":"/BPFL_GameState/"},"frontmatter":{"title":"BPFL_GameState"}},"next":{"fields":{"slug":"/Basics_Tiles/"},"frontmatter":{"title":"ATTBT Basics #2 Tiles"}}},"pageContext":{"id":"03a110ba-1e13-5130-a1a3-0e515e4aae72","previousPostId":"c421fafb-3a66-5328-9a2c-3ac12f8d9d2e","nextPostId":"d2fcd3d4-a8c8-57b0-bf13-6220ca8dca48"}},"staticQueryHashes":["2841359383","3257411868"],"slicesMap":{}}