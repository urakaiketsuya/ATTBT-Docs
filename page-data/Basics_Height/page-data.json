{"componentChunkName":"component---src-templates-blog-post-js","path":"/Basics_Height/","result":{"data":{"site":{"siteMetadata":{"title":"Advanced Turn Based Tile Toolkit"}},"markdownRemark":{"id":"56726ab9-230a-525a-907c-ac59c1f77888","excerpt":"hey everyone so in this video I will be\ntalking about height maps so how we can\nget the grid manager to take into\naccount the height of the various tiles\nandâ€¦","html":"<p>hey everyone so in this video I will be\ntalking about height maps so how we can\nget the grid manager to take into\naccount the height of the various tiles\nand meshes placed in the grid area so if\nwe check the properties of the grid\nmanager and scroll down we can find this\nprocedure all set up here where we have\nheight map setup we can also see that\ntrace four walls is set up to true as\nper the last tutorial and crisper walls\nso and you have three options here for\nheight maps yeah false one level and\nmulti levels so false is what I've been\nshowing in the videos till now and what\nthis means is that the grid manager just\nassumes by default that every tile and\nwithin this range that we set up within\n12 tiles should be added to the grid as\nlocations and and unless we do something\nto remove them from the grid like adding\nand a tireless that block movement to\nthem or so on so at the moment we have a\nflat grid here so if we set this to one\nlevel or multi-level or anything then\nthere will not be any changes since it's\na flat grid right and so when you go\nfrom false and to one level you will see\nthat this box appears around the grid\nand this box it shows the area in which\nthe grid manager will attempt to look\nfor tiles what is meant by tiles here\nthen or any meshes or anything else that\nblocks the path trace collision channel\nso if height map is set to one level\nthis means that the grid manager will\ntry to trace a line trace down from the\ntop of this bounding box to the bottom\nof this box and anything that it hits\nwill be added as a grid location we can\nchange the\nbounding box here through the max and\nminimum grid height so we can see here\nthat we go from a height of a thousand\nand until a minimum grid height of zero\nit is possible to go below zero and I\nwill show that later so let's see how\nthis works I can add a cube again to the\ngrid and resize it here and this as I've\nsaid in previous tutorials if I find the\ncollision the default for meshes is to\nblock path trace so it should block this\nline trace that we used to set up the\nvarious grid locations so now that the\nheight map is set to one level we should\nbe able to walk on top of this tile and\nwe can so that works great however if we\nchoose where we set up another one which\nwe make a lot taller you will see that\nwe cannot move on top of this tile and\nthis is because of how we have set it up\nin the procedural settings here which is\nthe height in impassible cut off and\nthis is the cut off in unreal units at\nwhich point that will get will say that\na difference in height between two tiles\nis too great and the edge between\nbetween them will be removed so we can\nchange this to something much higher\nlike five hundred and I will change this\nas well I will talk about this shortly\nand that was not enough let's add some\nmore\nhmm ah I know what is going on so this\nmight be instructive so I'll leave this\nin and since we're tracing four walls\nhere and we are tracing then from the\ncenter of a tile to the center of\nanother tile and at this trace four\nwalls height so it goes 100 unreal units\nabove this and tries to trace to the\ncenter of the tile adjacent to it and\nthis cuts through this corner here\nbecause the difference in height is so\ngreat so if we turned this off and then\nwe are able to move on top of this but\nyeah this will really be an issue since\nI don't assume people to want to have\nthis these large height differences but\nif you do in your game and you need both\njust ask me on the forums how to tweak\nit and I'll let you know but yeah for\nany reasonable height that will not be\nan issue this height difference is\nrelative to the tiles that are next to\nit so if we inked and set it to 115 yeah\nthen we can see so we can move into this\ntile we can't move directly down to the\nothers but we can move through this\nother time there are reasons you might\nwant to use height maps at one level\neven if your grid is flat and this is if\nyou have sort of a sparsely populated\ngrid let's see if you're making a\ndungeon or something like that\nso to set up an example actually before\nI start doing that lets let me show a\nhandy trick if you go to edit and edit\nyour preferences you can change the\nvarious grid snapping settings in the\neditor so if I go here and I search for\ngrids we will find yea that there are\ndecimal grid sizes here and we can add\nanother one which is the size of our\ntiles which by default is 200\nso I can add one that is 200 and drag\nthis into place now we should be able to\nyeah we can choose 200 I see a snap size\nhere so this is useful if you're working\non a square grid and you're placing\nactors that are not you know tiles or\nunits that automatically snap or in any\ncase it might be useful for exactly no\ngrids you will of course not be able to\nuse this feature though and but yeah so\nthen we can place easily these meshes at\nthe center of tiles so let's build a\nmini dungeon we will resize this a bit\nthere that's nice and just make a couple\nof rooms like this\nand we can have like a path between them\noops let's see something like this and\nnow we can walk on top of them now of\ncourse we can still move on the rest of\nthe grid here so this doesn't really do\nmuch but we can then disable walkability\non this grid so if we turn off collision\nplain workable now our entire playable\nspace is really within this little two\nroom setup here but we can still see all\nof these tiles of course we can just\nturn off let's see yeah so default tile\nand now this is our entire playable area\nwe can do some more work here maybe turn\nthis into I could let the stair here and\nnow we can walk up but if we go the\nother way let's see\nit might still be within the bounds okay\nif I choose all of these and I move them\ndown a bit let's see you can see that\nI'm not able to move down here and this\nis because these meshes now are below\nthe bounds that we've set up but we can\nalways change that so if we go here to\nthe minimum grid Heights I'm gonna\nchange this to minus 400 and now we can\nsee that we can move even below the\nheight that the grid manager is placed\nat we can visualize how the grid manager\nlooks for tiles by going into the grid\nmanager and let's see in the event graph\nhere again we still have the set up grid\narrays in the beginning and here it\ncreates grid locations and here you have\nthree different types depending on which\nheight map we're using at the moment\nwe're using one level so we can see here\nthat we're tracing then from the top of\nthe grid or this defined box to the\nbottom and we can display this line\ntrace so that we can see it during\ngameplay\nand you can see want a trace going from\nthe very top of this box here and\nlooking for it until it reaches the\nbottom here if it ever hits any or\nanything that blocks path trace on the\nway it adds that grid location to the\ngrid as we can see it does here what\nhappens if we play something above here\nthough if I take this and I drag this up\nto create like a roof and if we try\nplaying now we can see that we can no\nlonger move below this we have you can\nsee that we can reach this by shooting\nbut yet we can't move on to it because\nnow these tiles are blocked by these\nmeasures up here so to make this work we\nneed to have multi-level grids or if\nyou're just using like a cosmetic roof\nso this is not supposed to be work\nwalked on you can just turn off\ncollision and again you'll be fine let's\nsee let's turn off this trace debug\ndisplay but say you want both of these\nto be walkable and then we reset this\nback to normal and then if we select our\ngrid manager and we go to multi-level we\nwill see oops nothing hmm what happened\nhere oh yeah more informative mistakes\nduring testing earlier I changed this\nvalue so let's set it back to default\nthis is the height between levels so\nthis is when we're generating the\nmulti-level grid and any tile that it is\nfound it traces our words to see if it\nhas at least this space between itself\nand the roof above it so this was set\nway too high at the moment this is the\nlevel between the minimum level that has\nbeen to be between one tile and a tile\nabove or below it so the default is set\nto 200 as we now try we should be able\nto move below it yeah great and it\nshould also be possible now to move up\nto this level here provided we have some\nform of access so we can go to let's see\ngeometry and not a stair why not and\nlet's see there like this then the\nnumber of steps let's see yeah now we\nare able to walk to the top and we can\nwalk below again\nand I can change the move of this guy to\nmake it clear that we can access both at\nthe same time so if we change to move to\n20 we can see it is possible to move\nboth up here and to the level below a\nproblem of course is that this roof area\nsecluding the tiles below so it's pretty\nawkward to be able to move to these\ntiles here so there's a built-in way you\ncan fix this problem if we search for a\nplatform there is an actor called\nplatform which turns translucent if you\nhave zoomed a certain distance and this\nis a child actor that's just a larger\nplatform so we can place this and move\nit up like so let's see a bit to the\nside yeah and we can see now we can move\non top of this and if we want to move\nbelow we can zoom in and then we can\naccess the tiles below\nwe are still included though by the\nmarkers here on top and this also looks\na bit weird with the stairs here so if\nyou have a map where you are have X\nlanded places you can stand and so on so\nthese tiles don't look good on your map\nit's possible to change these markers\nfor decals so you can choose the grid\nmanager and it's just for decal and if\nwe check Hugh's decals we can now see\nthat these conform to the mesh here and\nthey also disappear if you zoom through\nthem so that's useful decals are also\nuseful if we're using landscapes so if\nwe add a landscape here just a small one\nyou can use the grass texture included\nin the toolkit and create\nhere's the landscape let's add some\nbumps here and there and then back into\nselect mode there we are so now we have\na landscape so like I've said something\nthat blocks paths tres doesn't need to\nbe a simple static mesh it could be\nsomething like a landscape so if we now\nhit play we see that we can move on top\nof this landscape and the unit will move\nas appropriate on the curved landscape\nbelow and the reason we see the borders\nhere is of course that's where we've\ndecided to find the area of the grid so\nwe can increase the size of the grid\nmanager to something larger so we can\nmove on a larger area\nso there are a couple more options that\nI haven't mentioned if we go to the grid\nmanager in the procedural options here\nso we have this Auto Edge cost based on\nheight this sets the costs between\nadjacent tiles based on the height\ndifference between them so that's what\nwhat means that they can't be moved\nbetween if they are a certain height\napart but this cannot be disabled if\nit's multi level because it's that's a\npart of how my multi level grids are set\nup if it's one level or false this can\nbe disabled if we want to and then\nthere's this height slow increment so\nyou have an impassable cutoff this is\nthe height between adjacent tiles at\nwhich you can no longer move between\nthem\nwell the slow increment it decides how\nmuch extra movement it costs to move\nbetween tiles that are a certain height\napart so if you set this to be 75 that\nmeans that the difference between these\ntiles is lower than 75 that the cost is\none to move between them if it's\nHardware between 75 150 then it is - if\nit's 150 then it's impassable if we\nincrease this then it would be no 0 to\n75 it costs of 175 to 150 a cost of 250\nto 225 a cost of 3 to move between them\nand so on and so that's something I\nadded when I first made this tool kit I\ndon't know if many people actually use\nthat function I don't know what any\ngames that apply movement costs between\ntiles in that way but yeah there you\nhave it in case you're the one person\nwho needs that feature ok I think that\nwill do it for this video thanks for\nwatching</p>","frontmatter":{"title":"ATTBT Basics #4 Height","date":"September 28, 2024","description":"https://www.youtube.com/watch?v=aVL8Y4vnpOk"}},"previous":{"fields":{"slug":"/WBP_Ability/"},"frontmatter":{"title":"WBP_Ability"}},"next":{"fields":{"slug":"/BP_UnitHud/"},"frontmatter":{"title":"BP_UnitHud"}}},"pageContext":{"id":"56726ab9-230a-525a-907c-ac59c1f77888","previousPostId":"43c005d6-6568-574b-a1c0-f91d9ea3ce2a","nextPostId":"3787aa9f-4ef8-5ea6-a759-af2735aea7fe"}},"staticQueryHashes":["2841359383","3257411868"],"slicesMap":{}}